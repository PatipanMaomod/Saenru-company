<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - Saenru Shop</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="image/logo.png" alt="Logo" style="height: 60px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto" id="navbar-links">
                    <!-- ลิงก์เมนูจะถูกเพิ่มที่นี่โดย JavaScript -->
                </ul>
            </div>
        </div>
    </nav>

    <script>
        // ฟังก์ชั่นดึงข้อมูล navbar จาก backend
        fetch('/navbar')
            .then(response => response.json()) // แปลงข้อมูลจาก JSON
            .then(data => {
                const navbarLinksContainer = document.getElementById('navbar-links');
                data.forEach(link => {
                    const li = document.createElement('li');
                    li.classList.add('nav-item');
                    li.innerHTML = `<a class="nav-link" href="${link.link}">${link.name}</a>`;
                    navbarLinksContainer.appendChild(li);
                });
            })
            .catch(error => {
                console.error('Error fetching navbar:', error);
            });


        // ดึง name ของสินค้าจาก URL
        const productName = decodeURIComponent(window.location.pathname.split('/').pop()); // สมมติ URL เป็น /product/Aether%20Grip

        // ดึงข้อมูลสินค้าจาก API
        fetch(`/product/${productName}`)
            .then(response => response.json())
            .then(product => {
                document.getElementById('product-name').textContent = product.name;
                document.getElementById('product-price').textContent = `$${product.price}`;
                document.getElementById('product-availability').textContent = product.stock_quantity > 0 ? 'In Stock' : 'Out of Stock';
                document.getElementById('product-category').textContent = product.category;
            })
            .catch(error => {
                console.error('Error fetching product details:', error);
            });

        // ฟังก์ชันเพิ่มสินค้าลงตะกร้า
        function addToCart() {
            alert('Added to cart!');
        }

    </script>

    <!-- Product Detail Section -->
    <section>
        <div class="container product-detail">
            <div class="row bg-light p-4 rounded shadow-sm">
                <!-- Product Image -->
                <div class="col-md-6">
                    <img src="image/Aether Grip.png" alt="Product Image" class="product-img">
                </div>

                <!-- Product Information -->
                <div class="col-md-6 product-info">
                    <h2 id="product-name"></h2>
                    <p><strong>Price:</strong> <span id="product-price"></span></p>
                    <p><strong>Availability:</strong> <span id="product-availability"></span></p>
                    <p><strong>Category:</strong> <span id="product-category"></span></p>
                    <button class="btn-buy" onclick="addToCart()">Add to Cart</button>
                </div>
            </div>


            <div class="tabs-section mt-4">
                <div class="container">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link custom-tab active" id="description-tab" data-bs-toggle="tab"
                                data-bs-target="#description" type="button" role="tab">Description</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link custom-tab" id="reviews-tab" data-bs-toggle="tab"
                                data-bs-target="#reviews" type="button" role="tab">Reviews</button>
                        </li>
                    </ul>

                    <!-- Content with background -->
                    <div class="tab-content p-4 mt-3 bg-light rounded shadow-sm" id="myTabContent"
                        style="max-width: 900px; margin: 0 auto;">
                        <!-- Description Tab -->
                        <div class="tab-pane fade show active" id="description" role="tabpanel">
                            <p>
                                "ปลดล็อกขีดจำกัดของมนุษย์ด้วย AetherGrip!
                                แขนกลอัจฉริยะที่ผสานเทคโนโลยีล้ำยุคและพลังงานแห่งอีเธอร์
                                เปลี่ยนทุกการสัมผัสของคุณให้เป็นพลังสร้างสรรค์เหนือจินตนาการ
                                ไม่ว่าจะเป็นการใช้งานในภารกิจอุตสาหกรรม การสำรวจ หรือแม้แต่การป้องกันตัว AetherGrip
                                คือเพื่อนคู่ใจของคุณในทุกสถานการณ์
                                พร้อมแสงเอฟเฟกต์สุดล้ำที่เปล่งประกายทุกครั้งที่คุณลงมือ!"
                            </p>
                        </div>

                        <!-- Reviews Tab -->
                        <div class="tab-pane fade" id="reviews" role="tabpanel">
                            <p><strong>John Doe:</strong> This product is amazing! (5 stars)</p>
                            <p><strong>Jane Smith:</strong> Good quality, but shipping was delayed. (4 stars)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="header-to"></section>

    <section id="social-links" class="bg-dark py-4">
        <div class="container text-center">
            <h3 class="text-white mb-4">Contact us</h3>
            <div class="d-flex justify-content-center align-items-center">
                <!-- Facebook Icon -->
                <a href="https://facebook.com" class="text-white mx-3" target="_blank">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg"
                        alt="Facebook" class="icon-img" style="width: 30px; height: 30px;">
                </a>

                <!-- X (Twitter) Icon -->
                <a href="https://x.com/" class="text-white mx-3" target="_blank">
                    <img src="https://img.freepik.com/free-vector/new-2023-twitter-logo-x-icon-design_1017-45418.jpg"
                        alt="X" class="icon-img" style="width: 30px; height: 30px;">
                </a>

                <!-- Instagram Icon -->
                <a href="https://instagram.com" class="text-white mx-3" target="_blank">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram"
                        class="icon-img" style="width: 30px; height: 30px;">
                </a>

                <!-- Gmail Icon -->
                <a href="mailto:example@gmail.com" class="text-white mx-3">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Gmail_icon_%282020%29.svg/2560px-Gmail_icon_%282020%29.svg.png"
                        alt="Gmail" class="icon-img" style="width: 30px; height: 30px;">
                </a>
            </div>
        </div>
    </section>



    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Use Fetch API to load navbar.html and inject it into the page
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
            })
            .catch(error => console.error('Error loading navbar:', error));
    </script>
</body>

</html>